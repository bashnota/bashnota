import{c8 as O,aQ as j,d as Q,q as v,P as z,Q as Y,R as S,o as m,k as u,i as s,w as i,e,bJ as _,bK as x,E as a,ce as N,bL as C,J as k,bo as X,ac as A,ad as M,V as $,dm as W,dn as Z,l as V,dp as w,dq as tt,S as P,ap as et,b as G,_ as I,L as U,dX as st,A as it,B as rt,D as ot,G as lt,b0 as nt,bv as at,b$ as g,cr as E,I as ut,N as dt,t as H,a6 as ct}from"./index-B6K4lM3_.js";const T=[{id:"global-search",key:"Ctrl+Shift+Alt+Space",description:"Open global search"},{id:"new-nota",key:"Ctrl+Shift+Alt+N",description:"Create new nota"},{id:"focus-editor",key:"Ctrl+Shift+Alt+E",description:"Focus editor"},{id:"commands-menu",key:"Ctrl+Shift+Alt+/",description:"Open commands menu (in editor)"},{id:"bold-text",key:"Ctrl+Shift+Alt+B",description:"Bold text (in editor)"},{id:"italic-text",key:"Ctrl+Shift+Alt+I",description:"Italic text (in editor)"},{id:"escape",key:"Esc",description:"Close dialogs / Cancel editing"},{id:"ai-generation",key:"Ctrl+Shift+Alt+G",description:"AI text generation"},{id:"favorites-sidebar",key:"Ctrl+Shift+Alt+V",description:"Toggle favorites sidebar"},{id:"favorites-search",key:"Ctrl+Shift+Alt+P",description:"Search in favorites"}],K=[{id:"insert-code",key:"Ctrl+Shift+Alt+C",description:"Insert code block"},{id:"insert-table",key:"Ctrl+Shift+Alt+T",description:"Insert table"},{id:"insert-image",key:"Ctrl+Shift+Alt+I",description:"Insert image"},{id:"insert-math",key:"Ctrl+Shift+Alt+M",description:"Insert math block"},{id:"insert-mermaid",key:"Ctrl+Shift+Alt+D",description:"Insert Mermaid diagram"},{id:"insert-youtube",key:"Ctrl+Shift+Alt+Y",description:"Insert YouTube video"},{id:"insert-subfigures",key:"Ctrl+Shift+Alt+F",description:"Insert subfigures"},{id:"insert-hr",key:"Ctrl+Shift+Alt+H",description:"Insert horizontal rule"},{id:"insert-blockquote",key:"Ctrl+Shift+Alt+Q",description:"Insert blockquote"},{id:"insert-tasklist",key:"Ctrl+Shift+Alt+K",description:"Insert task list"},{id:"insert-drawio",key:"Ctrl+Shift+Alt+G",description:"Insert Draw.io diagram"},{id:"insert-notatable",key:"Ctrl+Shift+Alt+B",description:"Insert nota table"},{id:"insert-ai-block",key:"Ctrl+Shift+Alt+A",description:"Insert inline AI generation block"}],ft=O("shortcuts",{state:()=>({generalShortcuts:[...T],blockShortcuts:[...K]}),getters:{shortcuts:d=>[...d.generalShortcuts,...d.blockShortcuts]},actions:{updateShortcut(d,c){const f=this.generalShortcuts.findIndex(n=>n.id===d);if(f!==-1){this.generalShortcuts[f]={...this.generalShortcuts[f],...c},this.saveShortcuts();return}const l=this.blockShortcuts.findIndex(n=>n.id===d);l!==-1&&(this.blockShortcuts[l]={...this.blockShortcuts[l],...c},this.saveShortcuts())},resetShortcut(d){const c=T.find(l=>l.id===d);if(c){const l=this.generalShortcuts.findIndex(n=>n.id===d);if(l!==-1){this.generalShortcuts[l]={...c},this.saveShortcuts();return}}const f=K.find(l=>l.id===d);if(f){const l=this.blockShortcuts.findIndex(n=>n.id===d);l!==-1&&(this.blockShortcuts[l]={...f},this.saveShortcuts())}},resetToDefaults(){this.generalShortcuts=[...T],this.blockShortcuts=[...K],this.saveShortcuts()},saveShortcuts(){localStorage.setItem("shortcuts",JSON.stringify({generalShortcuts:this.generalShortcuts,blockShortcuts:this.blockShortcuts}))},loadShortcuts(){const d=localStorage.getItem("shortcuts");if(d)try{const c=JSON.parse(d);c.generalShortcuts&&(this.generalShortcuts=c.generalShortcuts),c.blockShortcuts&&(this.blockShortcuts=c.blockShortcuts)}catch(c){j.error("Failed to parse saved shortcuts",c)}}}}),ht={class:"space-y-6 max-w-4xl"},pt={class:"flex items-center justify-between"},mt={class:"space-y-4"},St=["innerHTML"],kt={key:0,class:"text-center py-8"},gt={class:"py-4"},yt={key:0,class:"mt-4 text-center"},bt=["innerHTML"],vt=Q({__name:"EditorShortcutsSettings",setup(d,{expose:c}){const f=ft(),l=v(!1),n=v(null),p=v(""),y=z(()=>f.shortcuts.filter(o=>o.category==="editor"||["bold-text","italic-text","commands-menu","focus-editor"].includes(o.id||"")));Y(()=>{f.loadShortcuts()});function R(o){n.value=o,p.value=o.key,l.value=!0}function q(){if(n.value&&p.value){const o=n.value.id||"";f.updateShortcut(o,{...n.value,key:p.value}),H({title:"Shortcut Updated",description:`${n.value.description} is now ${p.value}`,variant:"default"})}l.value=!1,n.value=null,p.value=""}function F(o){o.preventDefault(),o.stopPropagation();const t=o.ctrlKey?"Ctrl+":"",h=o.altKey?"Alt+":"",L=o.shiftKey?"Shift+":"",J=o.metaKey?"⌘+":"";let r=o.key;if(r===" "?r="Space":r==="Escape"?r="Esc":r==="ArrowUp"?r="↑":r==="ArrowDown"?r="↓":r==="ArrowLeft"?r="←":r==="ArrowRight"?r="→":r==="Enter"?r="Enter":r==="Backspace"?r="Backspace":r==="Delete"?r="Delete":r==="Tab"?r="Tab":r.length===1&&(r=r.toUpperCase()),["Control","Alt","Shift","Meta"].includes(r))return;p.value=`${J}${t}${h}${L}${r}`;const b=document.getElementById("shortcut-input");b&&(b.classList.add("shortcut-flash"),setTimeout(()=>{b.classList.remove("shortcut-flash")},200))}function B(){confirm("Are you sure you want to reset editor keyboard shortcuts to default?")&&(y.value.forEach(o=>{o.id&&f.resetShortcut(o.id)}),H({title:"Shortcuts Reset",description:"Editor keyboard shortcuts have been reset to default values",variant:"default"}))}function D(o){return o.split("+").map(t=>`<kbd class="px-2 py-1 mx-1 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">${t}</kbd>`).join("")}return c({resetToDefaults:()=>{B()}}),(o,t)=>(m(),S(P,null,[u("div",ht,[s(e(A),null,{default:i(()=>[s(e(_),null,{default:i(()=>[u("div",pt,[u("div",null,[s(e(x),{class:"flex items-center gap-2"},{default:i(()=>[s(e(N),{class:"h-5 w-5"}),t[6]||(t[6]=a(" Editor Shortcuts "))]),_:1}),s(e(C),null,{default:i(()=>t[7]||(t[7]=[a(" Configure keyboard shortcuts for editor-specific actions ")])),_:1})]),s(e(k),{variant:"outline",onClick:B,class:"flex items-center gap-2"},{default:i(()=>[s(e(X),{class:"h-4 w-4"}),t[8]||(t[8]=a(" Reset to Defaults "))]),_:1})])]),_:1})]),_:1}),s(e(A),null,{default:i(()=>[s(e(_),null,{default:i(()=>[s(e(x),null,{default:i(()=>t[9]||(t[9]=[a("Editor Actions")])),_:1}),s(e(C),null,{default:i(()=>t[10]||(t[10]=[a("Shortcuts for text editing and formatting")])),_:1})]),_:1}),s(e(M),null,{default:i(()=>[u("div",mt,[s(e(W),null,{default:i(()=>[s(e(Z),null,{default:i(()=>[s(e(V),null,{default:i(()=>[s(e(w),null,{default:i(()=>t[11]||(t[11]=[a("Action")])),_:1}),s(e(w),null,{default:i(()=>t[12]||(t[12]=[a("Shortcut")])),_:1}),s(e(w),{class:"w-[100px]"},{default:i(()=>t[13]||(t[13]=[a("Edit")])),_:1})]),_:1})]),_:1}),s(e(tt),null,{default:i(()=>[(m(!0),S(P,null,et(y.value,h=>(m(),G(e(V),{key:h.id},{default:i(()=>[s(e(I),{class:"font-medium"},{default:i(()=>[a(U(h.description),1)]),_:2},1024),s(e(I),null,{default:i(()=>[u("div",{innerHTML:D(h.key)},null,8,St)]),_:2},1024),s(e(I),null,{default:i(()=>[s(e(k),{variant:"ghost",size:"sm",onClick:L=>R(h)},{default:i(()=>[s(e(st),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),y.value.length===0?(m(),S("div",kt,[s(e(N),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t[14]||(t[14]=u("p",{class:"text-muted-foreground"},"No editor shortcuts configured",-1))])):$("",!0)])]),_:1})]),_:1}),s(e(A),null,{default:i(()=>[s(e(_),null,{default:i(()=>[s(e(x),null,{default:i(()=>t[15]||(t[15]=[a("Tips")])),_:1}),s(e(C),null,{default:i(()=>t[16]||(t[16]=[a("Getting the most out of editor shortcuts")])),_:1})]),_:1}),s(e(M),null,{default:i(()=>t[17]||(t[17]=[u("div",{class:"space-y-3 text-sm text-muted-foreground"},[u("p",null,"• Use Ctrl/Cmd + key combinations for most actions"),u("p",null,"• Alt + key combinations are great for secondary actions"),u("p",null,"• Avoid conflicts with browser shortcuts"),u("p",null,"• Keep shortcuts memorable and consistent with other editors")],-1)])),_:1})]),_:1})]),s(e(dt),{open:l.value,"onUpdate:open":t[5]||(t[5]=h=>l.value=h)},{default:i(()=>[s(e(it),null,{default:i(()=>[s(e(rt),null,{default:i(()=>[s(e(ot),null,{default:i(()=>t[18]||(t[18]=[a("Edit Keyboard Shortcut")])),_:1}),n.value?(m(),G(e(lt),{key:0},{default:i(()=>[a(' Change the keyboard shortcut for "'+U(n.value.description)+'" ',1)]),_:1})):$("",!0)]),_:1}),u("div",gt,[s(e(nt),null,{default:i(()=>t[19]||(t[19]=[a("Press the new key combination")])),_:1}),s(e(at),{id:"shortcut-input",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=h=>p.value=h),class:"mt-2 shortcut-input",placeholder:"Press keys...",onKeydown:[g(F,["stop"]),t[1]||(t[1]=E(g(()=>{},["prevent"]),["enter"])),t[2]||(t[2]=E(g(()=>{},["prevent"]),["space"])),t[3]||(t[3]=E(g(()=>{},["prevent"]),["tab"]))],readonly:""},null,8,["modelValue"]),p.value?(m(),S("div",yt,[t[20]||(t[20]=u("p",{class:"text-sm text-muted-foreground mb-2"},"New shortcut:",-1)),u("div",{class:"p-3 bg-muted/30 rounded-md inline-block",innerHTML:D(p.value)},null,8,bt)])):$("",!0),t[21]||(t[21]=u("p",{class:"text-sm text-muted-foreground mt-4"}," Press the desired key combination (e.g., Ctrl+S, Alt+P) ",-1))]),s(e(ut),null,{default:i(()=>[s(e(k),{variant:"outline",onClick:t[4]||(t[4]=h=>l.value=!1)},{default:i(()=>t[22]||(t[22]=[a("Cancel")])),_:1}),s(e(k),{onClick:q},{default:i(()=>t[23]||(t[23]=[a("Save Changes")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ct=ct(vt,[["__scopeId","data-v-acb3a997"]]);export{Ct as default};
