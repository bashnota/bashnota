import{c as Re,d as Ce,P as A,b as h,V as E,o as u,w as s,i as t,e,ad as we,k as o,aU as $e,$ as M,L as f,dg as Te,ac as Ee,R as y,F as j,E as i,cu as Ve,J as k,X as Le,Y as Me,dv as je,a1 as qe,a2 as ne,bC as ze,dw as Ie,aT as Qe,aP as Ge,a6 as We,dA as Oe,bF as Ze,bG as Je,bH as J,dB as Se,bI as Xe,q as H,ab as De,t as C,A as He,B as Ye,D as Ke,G as et,bM as z,bN as O,bO as N,bP as R,bv as ce,m as oe,bR as V,ai as me,n as pe,g as fe,ak as ge,al as ve,am as be,S as q,ap as Q,an as ye,b0 as tt,b1 as st,bQ as at,de as re,I as nt,N as ot,du as _e,aX as xe,Z as lt,bV as it,bW as le,cf as Be,ct as Fe,bZ as ie,U as Pe,bl as rt,dC as dt,aB as ut,bU as ct}from"./index-Ri5Ws9ur.js";import{_ as B,a as X}from"./SettingGroup.vue_vue_type_script_setup_true_lang-DqCoZ9yy.js";import{a as Ae,_ as mt}from"./SettingSlider.vue_vue_type_script_setup_true_lang-GeApw2ko.js";import{S as pt}from"./shield-Cdt3jKR_.js";import"./Slider.vue_vue_type_script_setup_true_lang-kT4sy-sV.js";/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=Re("TestTubeIcon",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),ft={class:"flex items-center justify-between"},gt={class:"flex items-center gap-3"},vt={class:"font-medium text-sm"},bt={class:"text-xs text-muted-foreground"},yt={class:"flex items-start justify-between gap-4"},_t={class:"flex items-start gap-3 flex-1 min-w-0"},xt={class:"flex-shrink-0 mt-1"},At={class:"flex-1 min-w-0"},ht={class:"flex items-center gap-2 mb-1"},Ct={class:"font-medium text-sm truncate"},kt={class:"text-xs text-muted-foreground mb-2 line-clamp-2"},wt={key:0,class:"text-xs bg-muted/50 p-2 rounded border text-muted-foreground"},$t={class:"line-clamp-2"},Tt={key:1,class:"flex items-center gap-2 mt-2"},Et={class:"flex items-center gap-2 flex-shrink-0"},It=Ce({__name:"CodeActionCard",props:{action:{},showEdit:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},title:{},description:{},icon:{},enabled:{type:Boolean},isFeature:{type:Boolean,default:!1}},emits:["edit","duplicate","delete","toggle","test"],setup(Y,{emit:_}){const m=Y,x=_,$=A(()=>m.action&&!m.action.isBuiltIn&&m.showEdit),U=A(()=>m.action&&!m.action.isBuiltIn&&m.showDelete),I=d=>{switch(d){case"analysis":return"bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300";case"transformation":return"bg-green-50 text-green-700 dark:bg-green-950 dark:text-green-300";case"generation":return"bg-purple-50 text-purple-700 dark:bg-purple-950 dark:text-purple-300";case"debugging":return"bg-red-50 text-red-700 dark:bg-red-950 dark:text-red-300";default:return"bg-gray-50 text-gray-700 dark:bg-gray-950 dark:text-gray-300"}},T=()=>{m.action&&x("edit",m.action)},F=()=>{m.action&&x("duplicate",m.action)},b=()=>{m.action&&x("delete",m.action.id)},w=()=>{m.action&&x("test",m.action.id)},S=d=>{m.isFeature?x("toggle","",d):m.action&&x("toggle",m.action.id,d)};return(d,g)=>d.isFeature?(u(),h(e(Ee),{key:0,class:M(["transition-all duration-200",d.enabled?"border-border":"border-border/50 bg-muted/30"])},{default:s(()=>[t(e(we),{class:"p-4"},{default:s(()=>[o("div",ft,[o("div",gt,[(u(),h($e(d.icon),{class:M(["h-5 w-5",d.enabled?"text-primary":"text-muted-foreground"])},null,8,["class"])),o("div",null,[o("h4",vt,f(d.title),1),o("p",bt,f(d.description),1)])]),t(e(Te),{checked:d.enabled,"onUpdate:checked":S},null,8,["checked"])])]),_:1})]),_:1},8,["class"])):d.action?(u(),h(e(Ee),{key:1,class:M(["transition-all duration-200",d.action.isEnabled?"border-border":"border-border/50 bg-muted/30"])},{default:s(()=>[t(e(we),{class:"p-4"},{default:s(()=>[o("div",yt,[o("div",_t,[o("div",xt,[(u(),h($e(d.action.icon||"Code2"),{class:M(["h-5 w-5",d.action.isEnabled?"text-primary":"text-muted-foreground"])},null,8,["class"]))]),o("div",At,[o("div",ht,[o("h4",Ct,f(d.action.name),1),t(e(j),{class:M([I(d.action.category),"text-xs"])},{default:s(()=>[i(f(d.action.category),1)]),_:1},8,["class"]),d.action.isBuiltIn?(u(),h(e(j),{key:0,variant:"secondary",class:"text-xs"},{default:s(()=>g[0]||(g[0]=[i(" Built-in ")])),_:1})):E("",!0),d.action.isEnabled?E("",!0):(u(),h(e(j),{key:1,variant:"outline",class:"text-xs"},{default:s(()=>[t(e(Ve),{class:"mr-1 h-3 w-3"}),g[1]||(g[1]=i(" Disabled "))]),_:1}))]),o("p",kt,f(d.action.description),1),d.action.isEnabled?(u(),y("div",wt,[g[2]||(g[2]=o("span",{class:"font-medium"},"Prompt:",-1)),o("span",$t,f(d.action.prompt),1)])):E("",!0),d.action.outputType||d.action.shortcut?(u(),y("div",Tt,[t(e(j),{variant:"outline",class:"text-xs"},{default:s(()=>[i(f(d.action.outputType),1)]),_:1}),d.action.shortcut?(u(),h(e(j),{key:0,variant:"outline",class:"text-xs"},{default:s(()=>[i(f(d.action.shortcut),1)]),_:1})):E("",!0)])):E("",!0)])]),o("div",Et,[t(e(k),{onClick:w,variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>[t(e(Ne),{class:"h-4 w-4"}),g[3]||(g[3]=o("span",{class:"sr-only"},"Test action",-1))]),_:1}),t(e(Te),{checked:d.action.isEnabled,"onUpdate:checked":S},null,8,["checked"]),t(e(Le),null,{default:s(()=>[t(e(Me),{asChild:""},{default:s(()=>[t(e(k),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>[t(e(je),{class:"h-4 w-4"}),g[4]||(g[4]=o("span",{class:"sr-only"},"Open menu",-1))]),_:1})]),_:1}),t(e(qe),{align:"end",class:"w-48"},{default:s(()=>[t(e(ne),{onClick:w,class:"gap-2"},{default:s(()=>[t(e(Ne),{class:"h-4 w-4"}),g[5]||(g[5]=i(" Test Action "))]),_:1}),t(e(ne),{onClick:F,class:"gap-2"},{default:s(()=>[t(e(ze),{class:"h-4 w-4"}),g[6]||(g[6]=i(" Duplicate "))]),_:1}),$.value?(u(),h(e(Ie),{key:0})):E("",!0),$.value?(u(),h(e(ne),{key:1,onClick:T,class:"gap-2"},{default:s(()=>[t(e(Qe),{class:"h-4 w-4"}),g[7]||(g[7]=i(" Edit Action "))]),_:1})):E("",!0),U.value?(u(),h(e(Ie),{key:2})):E("",!0),U.value?(u(),h(e(ne),{key:3,onClick:b,class:"gap-2 text-destructive focus:text-destructive"},{default:s(()=>[t(e(Ge),{class:"h-4 w-4"}),g[8]||(g[8]=i(" Delete "))]),_:1})):E("",!0)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["class"])):E("",!0)}}),he=We(It,[["__scopeId","data-v-0c6759cd"]]),St={class:"grid grid-cols-2 gap-4"},Dt={class:"grid grid-cols-3 gap-4"},Bt={class:"space-y-2"},Ft={class:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg"},Pt={class:"flex flex-wrap gap-2"},Nt={key:0,class:"space-y-2"},Ut={class:"border rounded-lg p-4 bg-muted/50"},zt={class:"flex items-center gap-2 mb-3"},Ot={class:"font-medium text-sm"},Rt={class:"text-xs text-muted-foreground mb-2"},Vt={class:"text-xs bg-background border rounded p-2"},Ue="{{code}}, {{language}}, {{error}}, {{chatContext}}",Lt=Ce({__name:"CodeActionDialog",props:{open:{type:Boolean},editingAction:{}},emits:["update:open","close"],setup(Y,{emit:_}){const m=Y,x=_,$=Oe(),U=Ze(Je({name:J().min(1,"Name is required").max(100,"Name must be less than 100 characters"),description:J().min(1,"Description is required").max(500,"Description must be less than 500 characters"),icon:J().min(1,"Icon is required"),prompt:J().min(1,"Prompt template is required"),category:Se(["analysis","transformation","generation","debugging"]),outputType:Se(["text","code","markdown"]),shortcut:J().optional()}).refine(c=>!($.enabledCustomActions||[]).some(n=>{var a;return n.name===c.name&&n.id!==((a=m.editingAction)==null?void 0:a.id)}),{message:"An action with this name already exists",path:["name"]})),{handleSubmit:I,resetForm:T,setValues:F,values:b}=Xe({validationSchema:U,initialValues:{name:"",description:"",icon:"Brain",prompt:"",category:"analysis",outputType:"text",shortcut:""}}),w=H(!1),S=[{value:"Brain",label:"Brain"},{value:"MessageSquare",label:"Message"},{value:"Wrench",label:"Wrench"},{value:"Zap",label:"Lightning"},{value:"FileText",label:"Document"},{value:"Shield",label:"Shield"},{value:"TestTube",label:"Test"},{value:"Code2",label:"Code"},{value:"Edit",label:"Edit"},{value:"Play",label:"Play"}],d=[{value:"analysis",label:"Analysis"},{value:"transformation",label:"Transformation"},{value:"generation",label:"Generation"},{value:"debugging",label:"Debugging"}],g=[{value:"text",label:"Plain Text"},{value:"code",label:"Code"},{value:"markdown",label:"Markdown"}],G=A({get:()=>m.open,set:c=>x("update:open",c)}),D=A(()=>!!m.editingAction),K=A(()=>D.value?"Edit Code Action":"Create Code Action"),de=A(()=>D.value?"Modify the existing AI code action settings.":"Create a new AI-powered action for code analysis and transformation."),ee=A(()=>w.value?D.value?"Saving...":"Creating...":D.value?"Save Changes":"Create Action");De(()=>m.editingAction,c=>{c?F({name:c.name,description:c.description,icon:c.icon,prompt:c.prompt,category:c.category,outputType:c.outputType,shortcut:c.shortcut||""}):T()}),De(G,c=>{c||L()});const te=I(async c=>{w.value=!0;try{const l={name:c.name.trim(),description:c.description.trim(),icon:c.icon,prompt:c.prompt.trim(),category:c.category,outputType:c.outputType,shortcut:c.shortcut||void 0,isBuiltIn:!1,isEnabled:!0};D.value&&m.editingAction?($.updateCustomAction(m.editingAction.id,l),C.success("Code action updated successfully")):($.addCustomAction(l),C.success("Code action created successfully")),L()}catch(l){C.error("Failed to save code action"),console.error("Error saving code action:",l)}finally{w.value=!1}}),L=()=>{x("update:open",!1),x("close"),T()},se=()=>{L()},ue=()=>{navigator.clipboard.writeText(Ue),C.success("Template variables copied to clipboard")},W=c=>{const l=document.getElementById("action-prompt");if(l){const p=l.selectionStart,n=l.selectionEnd,a=b.prompt||"",r=a.substring(0,p),v=a.substring(n);F({...b,prompt:r+c+v}),setTimeout(()=>{l.focus(),l.selectionStart=l.selectionEnd=p+c.length},0)}};return(c,l)=>(u(),h(e(ot),{open:G.value,"onUpdate:open":l[4]||(l[4]=p=>G.value=p)},{default:s(()=>[t(e(He),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:s(()=>[t(e(Ye),null,{default:s(()=>[t(e(Ke),null,{default:s(()=>[i(f(K.value),1)]),_:1}),t(e(et),null,{default:s(()=>[i(f(de.value),1)]),_:1})]),_:1}),o("form",{onSubmit:l[3]||(l[3]=(...p)=>e(te)&&e(te)(...p)),class:"space-y-4"},[o("div",St,[t(e(z),{name:"name"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[5]||(l[5]=[i("Name "),o("span",{class:"text-destructive"},"*",-1)])),_:1}),t(e(R),null,{default:s(()=>[t(e(ce),oe({id:"action-name",placeholder:"e.g., Add Comments"},p),null,16)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1}),t(e(z),{name:"category"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[6]||(l[6]=[i("Category")])),_:1}),t(e(R),null,{default:s(()=>[t(e(me),pe(fe(p)),{default:s(()=>[t(e(ge),null,{default:s(()=>[t(e(ve),{placeholder:"Select category"})]),_:1}),t(e(be),null,{default:s(()=>[(u(),y(q,null,Q(d,n=>t(e(ye),{key:n.value,value:n.value},{default:s(()=>[i(f(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1})]),t(e(z),{name:"description"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[7]||(l[7]=[i("Description "),o("span",{class:"text-destructive"},"*",-1)])),_:1}),t(e(R),null,{default:s(()=>[t(e(ce),oe({id:"action-description",placeholder:"e.g., Add comprehensive comments to explain code functionality"},p),null,16)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1}),o("div",Dt,[t(e(z),{name:"icon"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[8]||(l[8]=[i("Icon")])),_:1}),t(e(R),null,{default:s(()=>[t(e(me),pe(fe(p)),{default:s(()=>[t(e(ge),null,{default:s(()=>[t(e(ve),{placeholder:"Select icon"})]),_:1}),t(e(be),null,{default:s(()=>[(u(),y(q,null,Q(S,n=>t(e(ye),{key:n.value,value:n.value},{default:s(()=>[i(f(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1}),t(e(z),{name:"outputType"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[9]||(l[9]=[i("Output Type")])),_:1}),t(e(R),null,{default:s(()=>[t(e(me),pe(fe(p)),{default:s(()=>[t(e(ge),null,{default:s(()=>[t(e(ve),{placeholder:"Select output"})]),_:1}),t(e(be),null,{default:s(()=>[(u(),y(q,null,Q(g,n=>t(e(ye),{key:n.value,value:n.value},{default:s(()=>[i(f(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1}),t(e(z),{name:"shortcut"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[10]||(l[10]=[i("Shortcut")])),_:1}),t(e(R),null,{default:s(()=>[t(e(ce),oe({id:"action-shortcut",placeholder:"e.g., Ctrl+Shift+C"},p),null,16)]),_:2},1024),t(e(V))]),_:2},1024)]),_:1})]),o("div",Bt,[t(e(tt),{class:"text-sm font-medium"},{default:s(()=>l[11]||(l[11]=[i("Template Variables")])),_:1}),o("div",Ft,[o("code",{class:"text-sm flex-1"},f(Ue)),t(e(k),{type:"button",onClick:ue,variant:"outline",size:"sm",class:"gap-2"},{default:s(()=>[t(e(ze),{class:"h-3 w-3"}),l[12]||(l[12]=i(" Copy "))]),_:1})]),o("div",Pt,[t(e(k),{type:"button",onClick:l[0]||(l[0]=p=>W("{{code}}")),variant:"outline",size:"sm"},{default:s(()=>l[13]||(l[13]=[i(" Insert {{code}} ")])),_:1}),t(e(k),{type:"button",onClick:l[1]||(l[1]=p=>W("{{language}}")),variant:"outline",size:"sm"},{default:s(()=>l[14]||(l[14]=[i(" Insert {{language}} ")])),_:1}),t(e(k),{type:"button",onClick:l[2]||(l[2]=p=>W("{{error}}")),variant:"outline",size:"sm"},{default:s(()=>l[15]||(l[15]=[i(" Insert {{error}} ")])),_:1})])]),t(e(z),{name:"prompt"},{default:s(({componentField:p})=>[t(e(O),null,{default:s(()=>[t(e(N),null,{default:s(()=>l[16]||(l[16]=[i("Prompt Template "),o("span",{class:"text-destructive"},"*",-1)])),_:1}),t(e(R),null,{default:s(()=>[t(e(st),oe({id:"action-prompt",placeholder:"Analyze the following {{language}} code and add comprehensive comments...",rows:"6",class:"resize-none"},p),null,16)]),_:2},1024),t(e(at),null,{default:s(()=>l[17]||(l[17]=[i(" Use template variables to make your prompt dynamic. The code and context will be automatically inserted. ")])),_:1}),t(e(V))]),_:2},1024)]),_:1}),e(b).name&&e(b).prompt?(u(),y("div",Nt,[t(e(N),{class:"text-sm font-medium"},{default:s(()=>l[18]||(l[18]=[i("Preview")])),_:1}),o("div",Ut,[o("div",zt,[t(e(re),{class:"h-4 w-4 text-primary"}),o("span",Ot,f(e(b).name),1),t(e(j),{class:M([{"bg-blue-50 text-blue-700":e(b).category==="analysis","bg-green-50 text-green-700":e(b).category==="transformation","bg-purple-50 text-purple-700":e(b).category==="generation","bg-red-50 text-red-700":e(b).category==="debugging"},"text-xs"])},{default:s(()=>[i(f(e(b).category),1)]),_:1},8,["class"])]),o("p",Rt,f(e(b).description),1),o("div",Vt,[l[19]||(l[19]=o("span",{class:"font-medium"},"Prompt:",-1)),i(" "+f(e(b).prompt),1)])])])):E("",!0),t(e(nt),{class:"gap-2"},{default:s(()=>[t(e(k),{type:"button",variant:"outline",onClick:se},{default:s(()=>l[20]||(l[20]=[i(" Cancel ")])),_:1}),t(e(k),{type:"submit",disabled:w.value},{default:s(()=>[i(f(ee.value),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),Mt={class:"space-y-6"},jt={key:0,class:"text-center py-8 text-muted-foreground"},qt={key:1,class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Qt={class:"text-center p-4 bg-muted/50 rounded-lg"},Gt={class:"text-2xl font-bold text-primary"},Wt={class:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg"},Zt={class:"text-2xl font-bold text-green-600"},Jt={class:"text-center p-4 bg-blue-50 dark:bg-blue-950 rounded-lg"},Xt={class:"text-2xl font-bold text-blue-600"},Ht={class:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg"},Yt={class:"text-2xl font-bold text-purple-600"},Kt={key:0,class:"text-center py-8 text-muted-foreground"},es={key:1,class:"text-center py-8 text-muted-foreground"},ts={key:2,class:"space-y-3"},ss={class:"space-y-4"},as={key:0,class:"text-center py-8 text-muted-foreground"},ns={key:1,class:"space-y-3"},os={key:2,class:"text-center py-8 text-muted-foreground"},ls={class:"grid grid-cols-2 gap-4"},ms=Ce({__name:"ImprovedAICodeActionsSettings",setup(Y){const _=Oe(),m=H("features"),x=H(!1),$=H(null),U=H(null),I=A(()=>{var n;return((n=_.state)==null?void 0:n.customActions)&&Array.isArray(_.state.customActions)}),T=A(()=>{var n;return((n=_.state)==null?void 0:n.providerSettings)||{}}),F=A(()=>{var a;const n=((a=_.state)==null?void 0:a.errorTriggerConfig)||{};return{autoTrigger:n.autoTrigger??!1,showQuickFix:n.showQuickFix??!1,showExplanation:n.showExplanation??!1}}),b=A(()=>{if(!I.value)return[];try{return _.enabledCustomActions||[]}catch(n){return console.warn("Error accessing enabledCustomActions:",n),[]}}),w=A(()=>(b.value||[]).filter(n=>n.isBuiltIn)),S=A(()=>(b.value||[]).filter(n=>!n.isBuiltIn));A(()=>{if(!I.value)return[];try{return _.codeActions||[]}catch(n){return console.warn("Error accessing codeActions:",n),[]}});const d=A(()=>{const n=b.value||[],a=S.value||[],r=w.value||[];return{total:n.length,enabled:n.filter(v=>v.isEnabled).length,custom:a.length,builtin:r.length}}),g=A(()=>{var n,a,r,v,P;return[{key:"codeExplanation",name:"Code Explanation",description:"Generate detailed explanations of code functionality",icon:_e,enabled:((n=T.value.enabledFeatures)==null?void 0:n.codeExplanation)??!0},{key:"errorAnalysis",name:"Error Analysis",description:"Analyze and suggest fixes for code errors",icon:xe,enabled:((a=T.value.enabledFeatures)==null?void 0:a.errorAnalysis)??!0},{key:"securityAnalysis",name:"Security Analysis",description:"Detect potential security vulnerabilities",icon:pt,enabled:((r=T.value.enabledFeatures)==null?void 0:r.securityAnalysis)??!1},{key:"performanceAnalysis",name:"Performance Analysis",description:"Suggest performance optimizations",icon:lt,enabled:((v=T.value.enabledFeatures)==null?void 0:v.performanceAnalysis)??!1},{key:"codeTransformation",name:"Code Transformation",description:"Refactor, optimize, and transform code",icon:re,enabled:((P=T.value.enabledFeatures)==null?void 0:P.codeTransformation)??!0}]}),G=(n,a)=>{const r={...T.value.enabledFeatures,[n]:a};_.updateProviderSettings({enabledFeatures:r}),C.success(`${n} ${a?"enabled":"disabled"}`)},D=(n,a)=>{_.updateErrorTriggerConfig({[n]:a}),C.success("Error handling settings updated")},K=()=>{$.value=null,x.value=!0},de=n=>{$.value=n,x.value=!0},ee=n=>{const{id:a,createdAt:r,updatedAt:v,...P}=n,ae={...P,name:`${n.name} (Copy)`,isBuiltIn:!1};_.addCustomAction(ae),C.success("Action duplicated successfully")},te=n=>{const a=b.value.find(r=>r.id===n);a!=null&&a.isBuiltIn||(_.deleteCustomAction(n),C.success("Custom action deleted"))},L=(n,a)=>{var v;_.updateCustomAction(n,{isEnabled:a});const r=(v=b.value.find(P=>P.id===n))==null?void 0:v.name;C.success(`${r} ${a?"enabled":"disabled"}`)},se=async n=>{try{const a=`function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}`;C.info("Action test would execute here with sample code")}catch{C.error("Failed to test action")}},ue=()=>{confirm("Reset all AI code actions to defaults? This will remove all custom actions.")&&(_.resetToDefaults(),C.success("AI code actions reset to defaults"))},W=()=>{const n={customActions:S.value,exportDate:new Date().toISOString(),version:"1.0"},a=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),r=URL.createObjectURL(a),v=document.createElement("a");v.href=r,v.download=`ai-code-actions-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r),C.success("AI code actions exported successfully")},c=()=>{var n;(n=U.value)==null||n.click()},l=n=>{var v;const a=(v=n.target.files)==null?void 0:v[0];if(!a)return;const r=new FileReader;r.onload=P=>{var ae;try{const Z=JSON.parse((ae=P.target)==null?void 0:ae.result);Z.customActions&&Array.isArray(Z.customActions)&&(Z.customActions.forEach(ke=>{delete ke.id,_.addCustomAction(ke)}),C.success(`Imported ${Z.customActions.length} custom actions successfully`))}catch{C.error("Invalid file format")}},r.readAsText(a)},p=()=>{x.value=!1,$.value=null};return(n,a)=>(u(),y("div",Mt,[t(X,{title:"AI Code Actions Management",description:"Configure AI-powered code analysis, transformation, and debugging features",icon:e(re)},{default:s(()=>[t(B,{title:"Overview",description:"Current AI code actions configuration"},{default:s(()=>[I.value?(u(),y("div",qt,[o("div",Qt,[o("div",Gt,f(d.value.total),1),a[6]||(a[6]=o("div",{class:"text-sm text-muted-foreground"},"Total Actions",-1))]),o("div",Wt,[o("div",Zt,f(d.value.enabled),1),a[7]||(a[7]=o("div",{class:"text-sm text-muted-foreground"},"Enabled",-1))]),o("div",Jt,[o("div",Xt,f(d.value.custom),1),a[8]||(a[8]=o("div",{class:"text-sm text-muted-foreground"},"Custom",-1))]),o("div",Ht,[o("div",Yt,f(d.value.builtin),1),a[9]||(a[9]=o("div",{class:"text-sm text-muted-foreground"},"Built-in",-1))])])):(u(),y("div",jt," Loading AI code actions... "))]),_:1})]),_:1},8,["icon"]),t(e(ct),{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=r=>m.value=r),class:"w-full"},{default:s(()=>[t(e(it),{class:"grid w-full grid-cols-4"},{default:s(()=>[t(e(le),{value:"features"},{default:s(()=>[t(e(_e),{class:"mr-2 h-4 w-4"}),a[10]||(a[10]=i(" Features "))]),_:1}),t(e(le),{value:"error-handling"},{default:s(()=>[t(e(xe),{class:"mr-2 h-4 w-4"}),a[11]||(a[11]=i(" Error Handling "))]),_:1}),t(e(le),{value:"actions"},{default:s(()=>[t(e(Be),{class:"mr-2 h-4 w-4"}),a[12]||(a[12]=i(" Actions "))]),_:1}),t(e(le),{value:"manage"},{default:s(()=>[t(e(Fe),{class:"mr-2 h-4 w-4"}),a[13]||(a[13]=i(" Manage "))]),_:1})]),_:1}),t(e(ie),{value:"features"},{default:s(()=>[t(X,{title:"Code Analysis Features",description:"Enable or disable specific AI-powered code analysis capabilities",icon:e(_e)},{default:s(()=>[t(B,{title:"Analysis Features",description:"AI-powered code analysis and enhancement"},{default:s(()=>[(u(!0),y(q,null,Q(g.value,r=>(u(),h(he,{key:r.key,title:r.name,description:r.description,icon:r.icon,enabled:r.enabled,"is-feature":!0,onToggle:v=>G(r.key,!!v)},null,8,["title","description","icon","enabled","onToggle"]))),128))]),_:1})]),_:1},8,["icon"])]),_:1}),t(e(ie),{value:"error-handling"},{default:s(()=>[t(X,{title:"Automatic Error Detection",description:"Configure when and how AI assistance is triggered for code errors",icon:e(xe)},{default:s(()=>[t(B,{title:"Error Detection",description:"Automatic error analysis settings"},{default:s(()=>[t(Ae,{label:"Enable Auto Error Detection",description:"Automatically trigger AI assistance when code execution fails",help:"When enabled, AI will analyze errors and suggest fixes automatically","model-value":F.value.autoTrigger,"onUpdate:modelValue":a[0]||(a[0]=r=>D("autoTrigger",r))},null,8,["model-value"]),t(Ae,{label:"Auto-suggest Fixes",description:"Automatically generate suggested fixes for common errors",help:"Show quick fix suggestions when errors are detected","model-value":F.value.showQuickFix,"onUpdate:modelValue":a[1]||(a[1]=r=>D("showQuickFix",r))},null,8,["model-value"]),t(Ae,{label:"Show Error Context",description:"Include surrounding code context in error analysis",help:"Provides more context to AI for better error analysis","model-value":F.value.showExplanation,"onUpdate:modelValue":a[2]||(a[2]=r=>D("showExplanation",r))},null,8,["model-value"])]),_:1}),t(B,{title:"Context Settings",description:"Configure error analysis context"},{default:s(()=>[t(mt,{label:"Context Lines",description:"Number of lines before and after the error to include",help:"More lines provide better context but use more tokens","model-value":[5],min:1,max:10,"onUpdate:modelValue":a[3]||(a[3]=r=>{})})]),_:1})]),_:1},8,["icon"])]),_:1}),t(e(ie),{value:"actions"},{default:s(()=>[t(X,{title:"Built-in Code Actions",description:"Standard AI-powered code actions available for all code blocks",icon:e(Be)},{default:s(()=>[t(B,{title:"Built-in Actions",description:"Pre-configured actions for common tasks"},{default:s(()=>[I.value?!w.value||w.value.length===0?(u(),y("div",es," No built-in actions available. ")):(u(),y("div",ts,[(u(!0),y(q,null,Q(w.value,r=>(u(),h(he,{key:r.id,action:r,"show-edit":!1,"show-delete":!1,onToggle:L,onTest:se,onDuplicate:ee},null,8,["action"]))),128))])):(u(),y("div",Kt," Loading built-in actions... "))]),_:1}),t(B,{title:"Custom Actions",description:"Your personalized code actions"},{default:s(()=>[o("div",ss,[t(e(k),{onClick:K,class:"w-full gap-2"},{default:s(()=>[t(e(Pe),{class:"h-4 w-4"}),a[14]||(a[14]=i(" Create Custom Code Action "))]),_:1}),I.value?S.value.length>0?(u(),y("div",ns,[(u(!0),y(q,null,Q(S.value,r=>(u(),h(he,{key:r.id,action:r,onEdit:de,onDelete:te,onToggle:L,onTest:se,onDuplicate:ee},null,8,["action"]))),128))])):(u(),y("div",os,[t(e(re),{class:"mx-auto h-12 w-12 mb-4 opacity-50"}),a[16]||(a[16]=o("h3",{class:"font-medium mb-2"},"No Custom Code Actions",-1)),a[17]||(a[17]=o("p",{class:"text-sm mb-4"},"Create custom actions for specific code analysis needs.",-1)),t(e(k),{onClick:K,class:"gap-2"},{default:s(()=>[t(e(Pe),{class:"h-4 w-4"}),a[15]||(a[15]=i(" Create First Custom Action "))]),_:1})])):(u(),y("div",as," Loading custom actions... "))])]),_:1})]),_:1},8,["icon"])]),_:1}),t(e(ie),{value:"manage"},{default:s(()=>[t(X,{title:"Backup & Management",description:"Export, import, and manage your AI code actions",icon:e(Fe)},{default:s(()=>[t(B,{title:"Import & Export",description:"Backup and restore your custom actions"},{default:s(()=>[o("div",ls,[t(e(k),{onClick:W,variant:"outline",class:"gap-2"},{default:s(()=>[t(e(rt),{class:"h-4 w-4"}),a[18]||(a[18]=i(" Export Actions "))]),_:1}),t(e(k),{onClick:c,variant:"outline",class:"gap-2"},{default:s(()=>[t(e(dt),{class:"h-4 w-4"}),a[19]||(a[19]=i(" Import Actions "))]),_:1})]),o("input",{ref_key:"fileInput",ref:U,type:"file",accept:".json",onChange:l,class:"hidden"},null,544)]),_:1}),t(B,{title:"Reset Settings",description:"Restore default configurations"},{default:s(()=>[t(e(k),{onClick:ue,variant:"outline",class:"w-full gap-2"},{default:s(()=>[t(e(ut),{class:"h-4 w-4"}),a[20]||(a[20]=i(" Reset All Settings to Defaults "))]),_:1}),a[21]||(a[21]=o("p",{class:"text-sm text-muted-foreground"}," This will remove all custom actions and reset all settings to their defaults ",-1))]),_:1}),t(B,{title:"Template Variables",description:"Available variables for custom actions"},{default:s(()=>a[22]||(a[22]=[o("div",{class:"bg-muted/50 rounded-lg p-4 space-y-2"},[o("div",{class:"text-sm font-medium"},"Available Template Variables:"),o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs"},[o("div",null,[o("code",null,"{{code}}"),i(" - The selected code content")]),o("div",null,[o("code",null,"{{language}}"),i(" - The programming language")]),o("div",null,[o("code",null,"{{error}}"),i(" - Error message (if available)")]),o("div",null,[o("code",null,"{{chatContext}}"),i(" - Chat conversation context")])])],-1)])),_:1})]),_:1},8,["icon"])]),_:1})]),_:1},8,["modelValue"]),t(Lt,{open:x.value,"onUpdate:open":a[5]||(a[5]=r=>x.value=r),"editing-action":$.value,onClose:p},null,8,["open","editing-action"])]))}});export{ms as default};
