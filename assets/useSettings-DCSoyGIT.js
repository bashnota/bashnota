import{u as c}from"./SettingsView-fxxGccIO.js";import{q as l,P as d,t as a,aQ as u}from"./index-dr6P1g6z.js";function C(r){const s=c(),i=l(!1),t=l(null),g=d(()=>s.hasUnsavedChanges);return{settings:d(()=>s.settings[r]),isLoading:i,error:t,hasUnsavedChanges:g,updateSetting:(e,o)=>{try{const n={};n[e]=o,s.updateCategory(r,n),t.value=null}catch(n){t.value=`Failed to update ${String(e)}`,u.error(`Failed to update setting ${String(e)}`,n),a.error("Failed to update setting",{description:t.value})}},updateSettings:e=>{try{s.updateCategory(r,e),t.value=null}catch(o){t.value="Failed to update settings",u.error("Failed to update settings",o),a.error("Failed to update settings",{description:t.value})}},resetToDefaults:()=>{try{s.resetCategory(r),t.value=null,a.success(`${r} settings reset to defaults`)}catch(e){t.value="Failed to reset settings",u.error("Failed to reset settings",e),a.error("Failed to reset settings",{description:t.value})}},saveSettings:async()=>{i.value=!0,t.value=null;try{await s.saveSettings(),a.success("Settings saved successfully")}catch(e){throw t.value="Failed to save settings",a.error("Failed to save settings",{description:t.value}),e}finally{i.value=!1}}}}export{C as u};
