import{d as Q,P as y,b as g,o as i,w as s,i as t,e,ad as me,k as o,aU as X,$ as j,R as f,V as b,L as x,F as W,E as r,cu as pe,dg as fe,X as ve,Y as ge,J as E,dv as _e,a1 as Ae,a2 as P,aT as xe,bC as de,dw as H,d0 as be,a0 as ye,aP as we,ac as Ce,a6 as $e,q as B,ab as K,A as he,B as ke,D as Ie,G as De,b$ as Ve,b0 as M,bv as ee,ai as te,ak as se,al as oe,am as ae,S as T,ap as O,an as ne,b1 as Se,aC as Le,aX as Ee,aA as Ue,I as Me,N as Be,t as k,cd as q,bV as Te,bW as Y,cf as le,Z,bZ as G,U as ie,aB as Oe,bU as Pe}from"./index-B6K4lM3_.js";import{_ as N,a as F}from"./SettingGroup.vue_vue_type_script_setup_true_lang-DS8vxKSe.js";import{g as ce,a as ue,u as re,A as Ne,b as Re}from"./iconResolver-B9hiauju.js";const Fe={class:"flex items-start justify-between gap-4"},je={class:"flex items-start gap-3 flex-1 min-w-0"},ze={class:"flex-shrink-0 mt-1"},qe={class:"flex-1 min-w-0"},Ye={class:"flex items-center gap-2 mb-1"},Ze={class:"font-medium text-sm truncate"},Ge={key:0,class:"text-xs text-muted-foreground mb-2 line-clamp-1"},Je={key:1,class:"text-xs bg-muted/50 p-2 rounded border text-muted-foreground"},Xe={class:"line-clamp-2"},Qe={class:"flex items-center gap-2 flex-shrink-0"},We=Q({__name:"AIActionCard",props:{action:{},index:{},totalActions:{},showMove:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0}},emits:["edit","duplicate","delete","move","toggle"],setup(R,{emit:c}){const u=R,A=c,C=y(()=>u.index>0),d=y(()=>u.index<u.totalActions-1),w=y(()=>u.action.isCustom&&u.showDelete),I=y(()=>ce(u.action.icon)),$=y(()=>ue(u.action.color)),h=()=>A("edit",u.action),D=()=>A("duplicate",u.action.id),V=()=>A("delete",u.action.id),U=()=>A("move",u.index,u.index-1),S=()=>A("move",u.index,u.index+1),L=v=>A("toggle",u.action.id,v);return(v,m)=>(i(),g(e(Ce),{class:j(["transition-all duration-200",v.action.enabled?"border-border":"border-border/50 bg-muted/30"])},{default:s(()=>[t(e(me),{class:"p-4"},{default:s(()=>[o("div",Fe,[o("div",je,[o("div",ze,[(i(),g(X(I.value),{class:j(["h-5 w-5",v.action.enabled?$.value.text:"text-muted-foreground"])},null,8,["class"]))]),o("div",qe,[o("div",Ye,[o("h4",Ze,x(v.action.name),1),v.action.isCustom?(i(),g(e(W),{key:0,variant:"secondary",class:"text-xs"},{default:s(()=>m[0]||(m[0]=[r(" Custom ")])),_:1})):b("",!0),v.action.enabled?b("",!0):(i(),g(e(W),{key:1,variant:"outline",class:"text-xs"},{default:s(()=>[t(e(pe),{class:"mr-1 h-3 w-3"}),m[1]||(m[1]=r(" Disabled "))]),_:1}))]),v.action.description?(i(),f("p",Ge,x(v.action.description),1)):b("",!0),v.action.enabled?(i(),f("div",Je,[m[2]||(m[2]=o("span",{class:"font-medium"},"Prompt:",-1)),o("span",Xe,x(v.action.prompt),1)])):b("",!0)])]),o("div",Qe,[t(e(fe),{checked:v.action.enabled,"onUpdate:checked":L,class:"data-[state=checked]:bg-primary"},null,8,["checked"]),t(e(ve),null,{default:s(()=>[t(e(ge),{asChild:""},{default:s(()=>[t(e(E),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>[t(e(_e),{class:"h-4 w-4"}),m[3]||(m[3]=o("span",{class:"sr-only"},"Open menu",-1))]),_:1})]),_:1}),t(e(Ae),{align:"end",class:"w-48"},{default:s(()=>[t(e(P),{onClick:h,class:"gap-2"},{default:s(()=>[t(e(xe),{class:"h-4 w-4"}),m[4]||(m[4]=r(" Edit Action "))]),_:1}),t(e(P),{onClick:D,class:"gap-2"},{default:s(()=>[t(e(de),{class:"h-4 w-4"}),m[5]||(m[5]=r(" Duplicate "))]),_:1}),v.showMove?(i(),g(e(H),{key:0})):b("",!0),v.showMove?(i(),g(e(P),{key:1,onClick:U,disabled:!C.value,class:"gap-2"},{default:s(()=>[t(e(be),{class:"h-4 w-4"}),m[6]||(m[6]=r(" Move Up "))]),_:1},8,["disabled"])):b("",!0),v.showMove?(i(),g(e(P),{key:2,onClick:S,disabled:!d.value,class:"gap-2"},{default:s(()=>[t(e(ye),{class:"h-4 w-4"}),m[7]||(m[7]=r(" Move Down "))]),_:1},8,["disabled"])):b("",!0),w.value?(i(),g(e(H),{key:3})):b("",!0),w.value?(i(),g(e(P),{key:4,onClick:V,class:"gap-2 text-destructive focus:text-destructive"},{default:s(()=>[t(e(we),{class:"h-4 w-4"}),m[8]||(m[8]=r(" Delete "))]),_:1})):b("",!0)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["class"]))}}),J=$e(We,[["__scopeId","data-v-b03f201e"]]),He={class:"grid grid-cols-1 gap-4"},Ke={class:"space-y-2"},et={class:"space-y-2"},tt={class:"grid grid-cols-2 gap-4"},st={class:"space-y-2"},ot={class:"flex items-center gap-2"},at={class:"space-y-2"},nt={class:"flex items-center gap-2"},lt={class:"capitalize"},it={class:"space-y-2"},dt={key:0,class:"space-y-2"},ct={class:"border rounded-lg p-3 bg-muted/50"},ut={class:"flex items-center gap-2 mb-2"},rt={class:"font-medium text-sm"},mt={key:0,class:"text-xs text-muted-foreground mb-2"},pt={class:"text-xs bg-background border rounded p-2"},ft={class:"list-disc list-inside space-y-1"},vt=Q({__name:"AIActionDialog",props:{open:{type:Boolean},editingAction:{}},emits:["update:open","close"],setup(R,{emit:c}){const u=R,A=c,C=re(),d=B({name:"",description:"",icon:"EditIcon",color:"blue",prompt:"",enabled:!0}),w=B([]),I=B(!1),$=y({get:()=>u.open,set:l=>A("update:open",l)}),h=y(()=>!!u.editingAction),D=y(()=>h.value?"Edit AI Action":"Create AI Action"),V=y(()=>h.value?"Modify the existing AI action settings.":"Create a new AI-powered action for text enhancement."),U=y(()=>I.value?h.value?"Saving...":"Creating...":h.value?"Save Changes":"Create Action");K(()=>u.editingAction,l=>{l?d.value={name:l.name,description:l.description||"",icon:l.icon,color:l.color,prompt:l.prompt,enabled:l.enabled}:S()}),K($,l=>{l||m()});const S=()=>{d.value={name:"",description:"",icon:"EditIcon",color:"blue",prompt:"",enabled:!0},w.value=[]},L=()=>{var l;return w.value=C.validateAction({...d.value,id:(l=u.editingAction)==null?void 0:l.id}),w.value.length===0},v=async()=>{if(L()){I.value=!0;try{h.value&&u.editingAction?(C.updateAction(u.editingAction.id,d.value),k.success("AI action updated successfully")):(C.addCustomAction(d.value),k.success("AI action created successfully")),m()}catch(l){k.error("Failed to save AI action"),console.error("Error saving AI action:",l)}finally{I.value=!1}}},m=()=>{A("update:open",!1),A("close"),S()},z=()=>{m()},_=l=>ce(l),a=l=>ue(l);return(l,n)=>(i(),g(e(Be),{open:$.value,"onUpdate:open":n[5]||(n[5]=p=>$.value=p)},{default:s(()=>[t(e(he),{class:"sm:max-w-lg"},{default:s(()=>[t(e(ke),null,{default:s(()=>[t(e(Ie),null,{default:s(()=>[r(x(D.value),1)]),_:1}),t(e(De),null,{default:s(()=>[r(x(V.value),1)]),_:1})]),_:1}),o("form",{onSubmit:Ve(v,["prevent"]),class:"space-y-4"},[o("div",He,[o("div",Ke,[t(e(M),{for:"action-name",class:"text-sm font-medium"},{default:s(()=>n[6]||(n[6]=[r(" Name "),o("span",{class:"text-destructive"},"*",-1)])),_:1}),t(e(ee),{id:"action-name",modelValue:d.value.name,"onUpdate:modelValue":n[0]||(n[0]=p=>d.value.name=p),placeholder:"e.g., Fix Grammar",required:"",class:"w-full"},null,8,["modelValue"])]),o("div",et,[t(e(M),{for:"action-description",class:"text-sm font-medium"},{default:s(()=>n[7]||(n[7]=[r("Description")])),_:1}),t(e(ee),{id:"action-description",modelValue:d.value.description,"onUpdate:modelValue":n[1]||(n[1]=p=>d.value.description=p),placeholder:"e.g., Correct grammar and spelling errors",class:"w-full"},null,8,["modelValue"])])]),o("div",tt,[o("div",st,[t(e(M),{for:"action-icon",class:"text-sm font-medium"},{default:s(()=>n[8]||(n[8]=[r("Icon")])),_:1}),t(e(te),{modelValue:d.value.icon,"onUpdate:modelValue":n[2]||(n[2]=p=>d.value.icon=p)},{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(oe),{placeholder:"Select icon"})]),_:1}),t(e(ae),null,{default:s(()=>[(i(!0),f(T,null,O(e(Ne),p=>(i(),g(e(ne),{key:p,value:p},{default:s(()=>[o("div",ot,[(i(),g(X(_(p)),{class:"h-4 w-4"})),o("span",null,x(p.replace("Icon","")),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),o("div",at,[t(e(M),{for:"action-color",class:"text-sm font-medium"},{default:s(()=>n[9]||(n[9]=[r("Color")])),_:1}),t(e(te),{modelValue:d.value.color,"onUpdate:modelValue":n[3]||(n[3]=p=>d.value.color=p)},{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(oe),{placeholder:"Select color"})]),_:1}),t(e(ae),null,{default:s(()=>[(i(!0),f(T,null,O(e(Re),p=>(i(),g(e(ne),{key:p,value:p},{default:s(()=>[o("div",nt,[o("div",{class:j(["w-3 h-3 rounded-full",a(p).bg])},null,2),o("span",lt,x(p),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),o("div",it,[t(e(M),{for:"action-prompt",class:"text-sm font-medium"},{default:s(()=>n[10]||(n[10]=[r(" Prompt "),o("span",{class:"text-destructive"},"*",-1)])),_:1}),t(e(Se),{id:"action-prompt",modelValue:d.value.prompt,"onUpdate:modelValue":n[4]||(n[4]=p=>d.value.prompt=p),placeholder:"Please correct any grammar, spelling, and punctuation errors in the following text...",rows:"4",required:"",class:"resize-none"},null,8,["modelValue"]),n[11]||(n[11]=o("p",{class:"text-xs text-muted-foreground"}," The selected text will be automatically appended to this prompt when the action is used. ",-1))]),d.value.name&&d.value.prompt?(i(),f("div",dt,[t(e(M),{class:"text-sm font-medium"},{default:s(()=>n[12]||(n[12]=[r("Preview")])),_:1}),o("div",ct,[o("div",ut,[(i(),g(X(_(d.value.icon)),{class:j(["h-4 w-4",a(d.value.color).text])},null,8,["class"])),o("span",rt,x(d.value.name),1)]),d.value.description?(i(),f("p",mt,x(d.value.description),1)):b("",!0),o("div",pt,[n[13]||(n[13]=o("span",{class:"font-medium"},"Prompt:",-1)),r(" "+x(d.value.prompt),1)])])])):b("",!0),w.value.length>0?(i(),g(e(Le),{key:1,variant:"destructive"},{default:s(()=>[t(e(Ee),{class:"h-4 w-4"}),t(e(Ue),null,{default:s(()=>[o("ul",ft,[(i(!0),f(T,null,O(w.value,p=>(i(),f("li",{key:p},x(p),1))),128))])]),_:1})]),_:1})):b("",!0),t(e(Me),{class:"gap-2"},{default:s(()=>[t(e(E),{type:"button",variant:"outline",onClick:z},{default:s(()=>n[14]||(n[14]=[r(" Cancel ")])),_:1}),t(e(E),{type:"submit",disabled:I.value},{default:s(()=>[r(x(U.value),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),gt={class:"space-y-6"},_t={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},At={class:"text-center p-4 bg-muted/50 rounded-lg"},xt={class:"text-2xl font-bold text-primary"},bt={class:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg"},yt={class:"text-2xl font-bold text-green-600"},wt={class:"text-center p-4 bg-blue-50 dark:bg-blue-950 rounded-lg"},Ct={class:"text-2xl font-bold text-blue-600"},$t={class:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg"},ht={class:"text-2xl font-bold text-purple-600"},kt={class:"flex flex-wrap gap-2"},It={key:0,class:"text-center py-8 text-muted-foreground"},Dt={key:1,class:"space-y-3"},Vt={key:0,class:"text-center py-8 text-muted-foreground"},St={key:0,class:"text-center py-8 text-muted-foreground"},Lt={key:1,class:"space-y-3"},Et={key:0,class:"text-center py-8 text-muted-foreground"},Ut={key:1,class:"space-y-3"},Mt={key:0,class:"text-center py-8 text-muted-foreground"},Pt=Q({__name:"ImprovedAIActionsSettings",setup(R){const c=re(),u=B("actions"),A=B(!1),C=B(null),d=y(()=>c.isLoaded?c.defaultActions:[]),w=y(()=>c.isLoaded?c.customActions:[]),I=y(()=>c.isLoaded?c.enabledActions:[]),$=y(()=>({total:c.isLoaded?c.actions.length:0,enabled:I.value.length,custom:w.value.length,default:d.value.length})),h=()=>{C.value=null,A.value=!0},D=_=>{C.value=_,A.value=!0},V=_=>{c.duplicateAction(_)&&k.success("Action duplicated successfully")},U=_=>{const a=c.getActionById(_);if(!(a!=null&&a.isCustom))return;c.removeAction(_)&&k.success("Custom action deleted")},S=(_,a)=>{c.moveAction(_,a),k.success("Action position updated")},L=(_,a)=>{var n;c.updateAction(_,{enabled:a});const l=(n=c.getActionById(_))==null?void 0:n.name;k.success(`${l} ${a?"enabled":"disabled"}`)},v=()=>{confirm("This will reset all actions to defaults and remove custom actions. Continue?")&&(c.resetToDefaults(),k.success("AI actions reset to defaults"))},m=()=>{const _={version:"1.0.0",timestamp:new Date().toISOString(),actions:c.actions},a=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),l=URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download=`ai-actions-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l),k.success("AI actions exported successfully")},z=()=>{A.value=!1,C.value=null};return(_,a)=>(i(),f("div",gt,[t(F,{title:"AI Actions Management",description:"Configure AI-powered actions for text enhancement and editing",icon:e(q)},{default:s(()=>[t(N,{title:"Overview",description:"Current AI actions configuration"},{default:s(()=>[o("div",_t,[o("div",At,[o("div",xt,x($.value.total),1),a[2]||(a[2]=o("div",{class:"text-sm text-muted-foreground"},"Total Actions",-1))]),o("div",bt,[o("div",yt,x($.value.enabled),1),a[3]||(a[3]=o("div",{class:"text-sm text-muted-foreground"},"Enabled",-1))]),o("div",wt,[o("div",Ct,x($.value.custom),1),a[4]||(a[4]=o("div",{class:"text-sm text-muted-foreground"},"Custom",-1))]),o("div",$t,[o("div",ht,x($.value.default),1),a[5]||(a[5]=o("div",{class:"text-sm text-muted-foreground"},"Default",-1))])])]),_:1})]),_:1},8,["icon"]),t(e(Pe),{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=l=>u.value=l),class:"w-full"},{default:s(()=>[t(e(Te),{class:"grid w-full grid-cols-3"},{default:s(()=>[t(e(Y),{value:"actions"},{default:s(()=>[t(e(le),{class:"mr-2 h-4 w-4"}),a[6]||(a[6]=r(" Manage Actions "))]),_:1}),t(e(Y),{value:"default"},{default:s(()=>[t(e(q),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=r(" Default Actions "))]),_:1}),t(e(Y),{value:"custom"},{default:s(()=>[t(e(Z),{class:"mr-2 h-4 w-4"}),a[8]||(a[8]=r(" Custom Actions "))]),_:1})]),_:1}),t(e(G),{value:"actions"},{default:s(()=>[t(F,{title:"All AI Actions",description:"Manage all your AI actions in one place",icon:e(le)},{default:s(()=>[t(N,{title:"Quick Actions",description:"Manage your AI actions"},{default:s(()=>[o("div",kt,[t(e(E),{onClick:h,class:"gap-2"},{default:s(()=>[t(e(ie),{class:"h-4 w-4"}),a[9]||(a[9]=r(" Create Action "))]),_:1}),t(e(E),{variant:"outline",onClick:m,class:"gap-2"},{default:s(()=>[t(e(de),{class:"h-4 w-4"}),a[10]||(a[10]=r(" Export Actions "))]),_:1}),t(e(E),{variant:"outline",onClick:v,class:"gap-2"},{default:s(()=>[t(e(Oe),{class:"h-4 w-4"}),a[11]||(a[11]=r(" Reset to Defaults "))]),_:1})])]),_:1}),t(N,{title:"Actions List",description:"All configured AI actions"},{default:s(()=>[e(c).isLoaded?(i(),f("div",Dt,[(i(!0),f(T,null,O(e(c).actions,(l,n)=>(i(),g(J,{key:l.id,action:l,index:n,"total-actions":e(c).actions.length,onEdit:D,onDuplicate:V,onDelete:U,onMove:S,onToggle:L},null,8,["action","index","total-actions"]))),128)),e(c).actions.length===0?(i(),f("div",Vt," No AI actions configured. Create your first action to get started. ")):b("",!0)])):(i(),f("div",It," Loading AI actions... "))]),_:1})]),_:1},8,["icon"])]),_:1}),t(e(G),{value:"default"},{default:s(()=>[t(F,{title:"Default Actions",description:"Built-in AI actions for common text operations",icon:e(q)},{default:s(()=>[t(N,{title:"Built-in Actions",description:"Pre-configured actions for common tasks"},{default:s(()=>[e(c).isLoaded?(i(),f("div",Lt,[(i(!0),f(T,null,O(d.value,(l,n)=>(i(),g(J,{key:l.id,action:l,index:n,"total-actions":d.value.length,"show-move":!1,"show-delete":!1,onEdit:D,onDuplicate:V,onToggle:L},null,8,["action","index","total-actions"]))),128))])):(i(),f("div",St," Loading default actions... "))]),_:1})]),_:1},8,["icon"])]),_:1}),t(e(G),{value:"custom"},{default:s(()=>[t(F,{title:"Custom Actions",description:"Your personalized AI actions",icon:e(Z)},{default:s(()=>[t(N,{title:"Your Custom Actions",description:"Actions you've created or customized"},{default:s(()=>[e(c).isLoaded?(i(),f("div",Ut,[(i(!0),f(T,null,O(w.value,(l,n)=>(i(),g(J,{key:l.id,action:l,index:n,"total-actions":w.value.length,onEdit:D,onDuplicate:V,onDelete:U,onMove:S,onToggle:L},null,8,["action","index","total-actions"]))),128)),w.value.length===0?(i(),f("div",Mt,[t(e(Z),{class:"mx-auto h-12 w-12 mb-4 opacity-50"}),a[13]||(a[13]=o("h3",{class:"font-medium mb-2"},"No Custom Actions",-1)),a[14]||(a[14]=o("p",{class:"text-sm mb-4"},"Create custom AI actions tailored to your specific needs.",-1)),t(e(E),{onClick:h,class:"gap-2"},{default:s(()=>[t(e(ie),{class:"h-4 w-4"}),a[12]||(a[12]=r(" Create First Custom Action "))]),_:1})])):b("",!0)])):(i(),f("div",Et," Loading custom actions... "))]),_:1})]),_:1},8,["icon"])]),_:1})]),_:1},8,["modelValue"]),t(vt,{open:A.value,"onUpdate:open":a[1]||(a[1]=l=>A.value=l),"editing-action":C.value,onClose:z},null,8,["open","editing-action"])]))}});export{Pt as default};
