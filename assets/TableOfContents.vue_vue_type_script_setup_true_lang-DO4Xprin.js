import{d as $,P as C,R as i,o as a,k as n,i as c,e as r,d2 as g,d3 as E,w as _,S as N,ap as D,b as v,J as H,c4 as O,aU as R,L as S,bk as T,d4 as B,d5 as L,b3 as V}from"./index-dr6P1g6z.js";const I={class:"flex flex-col h-full min-h-0 overflow-hidden"},P={class:"flex flex-col gap-2 flex-shrink-0 bg-background"},j={class:"flex items-center gap-2 px-2"},z={key:0,class:"px-4 py-8 text-center"},F={key:1,class:"flex flex-col gap-0.5 p-2"},J={class:"flex items-center gap-2 w-full"},A={class:"text-sm truncate text-muted-foreground group-hover:text-foreground transition-colors"},X=$({__name:"TableOfContents",props:{editor:{}},setup(y){const d=y,u=C(()=>{var l;if(!d.editor)return[];const s=d.editor.getJSON(),e=[],o=(t,f=0)=>{var m,x,p,h;t.type==="heading"&&((x=(m=t.content)==null?void 0:m[0])!=null&&x.text)&&e.push({level:t.attrs.level,text:((h=(p=t.content)==null?void 0:p[0])==null?void 0:h.text)||"",indent:f}),t.content&&t.content.forEach(w=>o(w,f+1))};return(l=s.content)==null||l.forEach(t=>o(t)),e}),k=s=>{const e=document.evaluate(`//h1[contains(text(),'${s}')] | //h2[contains(text(),'${s}')] | //h3[contains(text(),'${s}')]`,document.body,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;e&&e.scrollIntoView({behavior:"smooth"})},b=s=>{switch(s){case 1:return V;case 2:return L;default:return B}};return(s,e)=>(a(),i("div",I,[n("div",P,[n("div",j,[c(r(g),{class:"w-4 h-4 text-primary"}),e[0]||(e[0]=n("h3",{class:"font-semibold"},"Table of Contents",-1))]),c(r(E),{class:"w-full"})]),c(r(T),{class:"flex-1 min-h-0"},{default:_(()=>[u.value.length===0?(a(),i("div",z,[c(r(g),{class:"w-8 h-8 mx-auto mb-3 text-muted-foreground/50"}),e[1]||(e[1]=n("p",{class:"text-sm font-medium text-muted-foreground"},"No headings found",-1)),e[2]||(e[2]=n("p",{class:"text-xs text-muted-foreground/80 mt-1"}," Add headings to your document to see them here ",-1))])):(a(),i("div",F,[(a(!0),i(N,null,D(u.value,(o,l)=>(a(),v(r(H),{key:l,variant:"ghost",size:"sm",class:"justify-start h-auto py-1.5 px-2 group",style:O({paddingLeft:`${o.level*.75}rem`}),onClick:t=>k(o.text)},{default:_(()=>[n("div",J,[(a(),v(R(b(o.level)),{class:"w-3 h-3 flex-shrink-0 text-muted-foreground/70 group-hover:text-primary transition-colors"})),n("span",A,S(o.text),1)])]),_:2},1032,["style","onClick"]))),128))]))]),_:1})]))}});export{X as _};
