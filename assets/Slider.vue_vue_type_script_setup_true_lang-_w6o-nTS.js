import{aG as Q,dH as Z,d as B,aE as X,a as I,q as M,P as g,b as V,o as x,w as K,r as R,c4 as W,e,aF as se,dI as ue,dJ as j,dK as de,aU as me,m as N,V as ve,dL as fe,dM as pe,aD as O,dN as ce,dO as ye,Q as ge,ay as be,i as U,h as Se,p as he,j as we,R as _e,S as Ce,ap as De}from"./index-BqzSlmqz.js";function Ee(l=[],a,t){const n=[...l];return n[t]=a,n.sort((u,d)=>u-d)}function ee(l,a,t){const d=100/(t-a)*(l-a);return Z(d,0,100)}function xe(l,a){return a>2?`Value ${l+1} of ${a}`:a===2?["Minimum","Maximum"][l]:void 0}function Ve(l,a){if(l.length===1)return 0;const t=l.map(u=>Math.abs(u-a)),n=Math.min(...t);return t.indexOf(n)}function Ke(l,a,t){const n=l/2,d=G([0,50],[0,n]);return(n-d(a)*t)*t}function qe(l){return l.slice(0,-1).map((a,t)=>l[t+1]-a)}function Be(l,a){if(a>0){const t=qe(l);return Math.min(...t)>=a}return!0}function G(l,a){return t=>{if(l[0]===l[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(l[1]-l[0]);return a[0]+n*(t-l[0])}}function Pe(l){return(String(l).split(".")[1]||"").length}function Re(l,a){const t=10**a;return Math.round(l*t)/t}const te=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[le,oe]=Q(["SliderVertical","SliderHorizontal"]);var Ae=B({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,{max:u,min:d,dir:r,inverted:o}=X(t),{forwardRef:y,currentElement:f}=I(),w=$(),C=M(),_=M(),D=g(()=>(r==null?void 0:r.value)!=="rtl"&&!o.value||(r==null?void 0:r.value)!=="ltr"&&o.value);function v(s,i){const m=_.value||f.value.getBoundingClientRect(),h=[...w.thumbElements.value][w.valueIndexToChangeRef.value],P=w.thumbAlignment.value==="contain"?h.clientWidth:0;!C.value&&!i&&w.thumbAlignment.value==="contain"&&(C.value=s.clientX-h.getBoundingClientRect().left);const H=[0,m.width-P],q=D.value?[d.value,u.value]:[u.value,d.value],k=G(H,q);_.value=m;const p=i?s.clientX-m.left-P/2:s.clientX-m.left-(C.value??0);return k(p)}const b=g(()=>D.value?"left":"right"),T=g(()=>D.value?"right":"left"),S=g(()=>D.value?1:-1);return oe({startEdge:b,endEdge:T,direction:S,size:"width"}),(s,i)=>(x(),V(re,{ref:e(y),dir:e(r),"data-orientation":"horizontal",style:W({"--reka-slider-thumb-transform":!D.value&&e(w).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:i[0]||(i[0]=m=>{const h=v(m,!0);n("slideStart",h)}),onSlideMove:i[1]||(i[1]=m=>{const h=v(m);n("slideMove",h)}),onSlideEnd:i[2]||(i[2]=()=>{_.value=void 0,C.value=void 0,n("slideEnd")}),onStepKeyDown:i[3]||(i[3]=m=>{const h=D.value?"from-left":"from-right",P=e(ne)[h].includes(m.key);n("stepKeyDown",m,P?-1:1)}),onEndKeyDown:i[4]||(i[4]=m=>n("endKeyDown",m)),onHomeKeyDown:i[5]||(i[5]=m=>n("homeKeyDown",m))},{default:K(()=>[R(s.$slots,"default")]),_:3},8,["dir","style"]))}}),Me=Ae,Ie=B({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,{max:u,min:d,inverted:r}=X(t),o=$(),{forwardRef:y,currentElement:f}=I(),w=M(),C=M(),_=g(()=>!r.value);function D(S,s){const i=C.value||f.value.getBoundingClientRect(),m=[...o.thumbElements.value][o.valueIndexToChangeRef.value],h=o.thumbAlignment.value==="contain"?m.clientHeight:0;!w.value&&!s&&o.thumbAlignment.value==="contain"&&(w.value=S.clientY-m.getBoundingClientRect().top);const P=[0,i.height-h],H=_.value?[u.value,d.value]:[d.value,u.value],q=G(P,H),k=s?S.clientY-i.top-h/2:S.clientY-i.top-(w.value??0);return C.value=i,q(k)}const v=g(()=>_.value?"bottom":"top"),b=g(()=>_.value?"top":"bottom"),T=g(()=>_.value?1:-1);return oe({startEdge:v,endEdge:b,direction:T,size:"height"}),(S,s)=>(x(),V(re,{ref:e(y),"data-orientation":"vertical",style:W({"--reka-slider-thumb-transform":!_.value&&e(o).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:s[0]||(s[0]=i=>{const m=D(i,!0);n("slideStart",m)}),onSlideMove:s[1]||(s[1]=i=>{const m=D(i);n("slideMove",m)}),onSlideEnd:s[2]||(s[2]=()=>{C.value=void 0,w.value=void 0,n("slideEnd")}),onStepKeyDown:s[3]||(s[3]=i=>{const m=_.value?"from-bottom":"from-top",h=e(ne)[m].includes(i.key);n("stepKeyDown",i,h?-1:1)}),onEndKeyDown:s[4]||(s[4]=i=>n("endKeyDown",i)),onHomeKeyDown:s[5]||(s[5]=i=>n("homeKeyDown",i))},{default:K(()=>[R(S.$slots,"default")]),_:3},8,["style"]))}}),ke=Ie;const[$,$e]=Q("SliderRoot");var Te=B({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(l,{emit:a}){const t=l,n=a,{min:u,max:d,step:r,minStepsBetweenThumbs:o,orientation:y,disabled:f,thumbAlignment:w,dir:C}=X(t),_=se(C),{forwardRef:D,currentElement:v}=I(),b=ue(v),{CollectionSlot:T}=j({isProvider:!0}),S=de(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),s=g(()=>Array.isArray(S.value)?[...S.value]:[]),i=M(0),m=M(s.value);function h(p){const c=Ve(s.value,p);q(p,c)}function P(p){q(p,i.value)}function H(){const p=m.value[i.value];s.value[i.value]!==p&&n("valueCommit",pe(s.value))}function q(p,c,{commit:E}={commit:!1}){var z;const L=Pe(r.value),J=Re(Math.round((p-u.value)/r.value)*r.value+u.value,L),Y=Z(J,u.value,d.value),A=Ee(s.value,Y,c);if(Be(A,o.value*r.value)){i.value=A.indexOf(Y);const F=String(A)!==String(S.value);F&&E&&n("valueCommit",A),F&&((z=k.value[i.value])==null||z.focus(),S.value=A)}}const k=M([]);return $e({modelValue:S,currentModelValue:s,valueIndexToChangeRef:i,thumbElements:k,orientation:y,min:u,max:d,disabled:f,thumbAlignment:w}),(p,c)=>(x(),V(e(T),null,{default:K(()=>[(x(),V(me(e(y)==="horizontal"?Me:ke),N(p.$attrs,{ref:e(D),"as-child":p.asChild,as:p.as,min:e(u),max:e(d),dir:e(_),inverted:p.inverted,"aria-disabled":e(f),"data-disabled":e(f)?"":void 0,onPointerdown:c[0]||(c[0]=()=>{e(f)||(m.value=s.value)}),onSlideStart:c[1]||(c[1]=E=>!e(f)&&h(E)),onSlideMove:c[2]||(c[2]=E=>!e(f)&&P(E)),onSlideEnd:c[3]||(c[3]=E=>!e(f)&&H()),onHomeKeyDown:c[4]||(c[4]=E=>!e(f)&&q(e(u),0,{commit:!0})),onEndKeyDown:c[5]||(c[5]=E=>!e(f)&&q(e(d),s.value.length-1,{commit:!0})),onStepKeyDown:c[6]||(c[6]=(E,L)=>{if(!e(f)){const A=e(te).includes(E.key)||E.shiftKey&&e(ae).includes(E.key)?10:1,z=i.value,F=s.value[z],ie=e(r)*A*L;q(F+ie,z,{commit:!0})}})}),{default:K(()=>[R(p.$slots,"default",{modelValue:e(S)}),e(b)&&p.name?(x(),V(e(fe),{key:0,type:"number",value:e(S),name:p.name,required:p.required,disabled:e(f),step:e(r)},null,8,["value","name","required","disabled","step"])):ve("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),He=Te,ze=B({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,u=$();return(d,r)=>(x(),V(e(O),N({"data-slider-impl":""},t,{onKeydown:r[0]||(r[0]=o=>{o.key==="Home"?(n("homeKeyDown",o),o.preventDefault()):o.key==="End"?(n("endKeyDown",o),o.preventDefault()):e(te).concat(e(ae)).includes(o.key)&&(n("stepKeyDown",o),o.preventDefault())}),onPointerdown:r[1]||(r[1]=o=>{const y=o.target;y.setPointerCapture(o.pointerId),o.preventDefault(),e(u).thumbElements.value.includes(y)?y.focus():n("slideStart",o)}),onPointermove:r[2]||(r[2]=o=>{o.target.hasPointerCapture(o.pointerId)&&n("slideMove",o)}),onPointerup:r[3]||(r[3]=o=>{const y=o.target;y.hasPointerCapture(o.pointerId)&&(y.releasePointerCapture(o.pointerId),n("slideEnd",o))})}),{default:K(()=>[R(d.$slots,"default")]),_:3},16))}}),re=ze,Ne=B({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=$(),t=le();I();const n=g(()=>a.currentModelValue.value.map(r=>ee(r,a.min.value,a.max.value))),u=g(()=>a.currentModelValue.value.length>1?Math.min(...n.value):0),d=g(()=>100-Math.max(...n.value,0));return(r,o)=>(x(),V(e(O),{"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value,"as-child":r.asChild,as:r.as,style:W({[e(t).startEdge.value]:`${u.value}%`,[e(t).endEdge.value]:`${d.value}%`})},{default:K(()=>[R(r.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Fe=Ne,Oe=B({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const a=l,t=$(),n=le(),{forwardRef:u,currentElement:d}=I(),{CollectionItem:r}=j(),o=g(()=>{var v,b;return(b=(v=t.modelValue)==null?void 0:v.value)==null?void 0:b[a.index]}),y=g(()=>o.value===void 0?0:ee(o.value,t.min.value??0,t.max.value??100)),f=g(()=>{var v,b;return xe(a.index,((b=(v=t.modelValue)==null?void 0:v.value)==null?void 0:b.length)??0)}),w=ce(d),C=g(()=>w[n.size].value),_=g(()=>t.thumbAlignment.value==="overflow"||!C.value?0:Ke(C.value,y.value,n.direction.value)),D=ye();return ge(()=>{t.thumbElements.value.push(d.value)}),be(()=>{const v=t.thumbElements.value.findIndex(b=>b===d.value)??-1;t.thumbElements.value.splice(v,1)}),(v,b)=>(x(),V(e(r),null,{default:K(()=>[U(e(O),N(v.$attrs,{ref:e(u),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":v.$attrs["aria-label"]||f.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":o.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":v.asChild,as:v.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(n).startEdge.value]:`calc(${y.value}% + ${_.value}px)`,display:!e(D)&&o.value===void 0?"none":void 0},onFocus:b[0]||(b[0]=()=>{e(t).valueIndexToChangeRef.value=v.index})}),{default:K(()=>[R(v.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Le=Oe,Ye=B({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=l,{getItems:t}=j(),{forwardRef:n,currentElement:u}=I(),d=g(()=>u.value?t(!0).findIndex(r=>r.ref===u.value):-1);return(r,o)=>(x(),V(Le,N({ref:e(n)},a,{index:d.value}),{default:K(()=>[R(r.$slots,"default")]),_:3},16,["index"]))}}),Ue=Ye,Xe=B({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=$();return I(),(t,n)=>(x(),V(e(O),{"as-child":t.asChild,as:t.as,"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value},{default:K(()=>[R(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),We=Xe;const Ge=B({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(l,{emit:a}){const t=l,n=a,u=Se(t,"class"),d=he(u,n);return(r,o)=>(x(),V(e(He),N({class:e(we)("relative flex w-full touch-none select-none items-center data-[orientation=vertical]:flex-col data-[orientation=vertical]:w-1.5 data-[orientation=vertical]:h-full",t.class)},e(d)),{default:K(()=>[U(e(We),{class:"relative h-1.5 w-full data-[orientation=vertical]:w-1.5 grow overflow-hidden rounded-full bg-primary/20"},{default:K(()=>[U(e(Fe),{class:"absolute h-full data-[orientation=vertical]:w-full bg-primary"})]),_:1}),(x(!0),_e(Ce,null,De(r.modelValue,(y,f)=>(x(),V(e(Ue),{key:f,class:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}});export{Ge as _};
