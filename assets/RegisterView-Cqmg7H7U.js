import{d as F,s as D,O as H,q as m,P as p,bj as J,R as y,o as n,i as a,w as l,e as s,bJ as W,bK as O,E as o,bL as Y,ad as q,k as t,V as _,b0 as b,cv as K,bv as h,$ as g,cs as A,b as k,ct as L,cu as M,J as S,L as Q,ac as T,t as N,aQ as z}from"./index-BQvMrvkP.js";import{_ as U}from"./CardFooter.vue_vue_type_script_setup_true_lang-CoeCOrK7.js";import{M as X}from"./mail-BxjEffk5.js";const Z={class:"flex items-center justify-center min-h-[calc(100vh-3.5rem)] px-4 py-12"},ee={class:"space-y-2"},se={class:"relative"},ae={key:0,class:"text-sm text-red-500"},te={class:"space-y-2"},le={class:"relative"},oe={key:0,class:"text-sm text-red-500"},re={class:"space-y-2"},ue={class:"relative"},ne={key:0,class:"text-sm text-red-500"},ie={class:"space-y-2"},de={class:"relative"},ce={key:0,class:"text-sm text-red-500"},ve={class:"text-sm text-center text-muted-foreground"},ge=F({__name:"RegisterView",setup(fe){const B=D(),R=H(),i=m(""),r=m(""),v=m(""),d=m(""),w=m(!1),x=m(!1),c=m(!1),C=p(()=>i.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.value):!0),P=p(()=>r.value?r.value.length>=6:!0),$=p(()=>v.value?v.value===r.value:!0),V=p(()=>d.value?d.value.length>=2:!0),E=p(()=>i.value&&r.value&&v.value&&d.value&&C.value&&P.value&&$.value&&V.value),G=async()=>{if(!E.value){N("Please fill in all fields correctly",{description:"Invalid Form"});return}c.value=!0;try{await B.register({email:i.value,password:r.value,displayName:d.value})&&(N("Your account has been created successfully!",{description:"Welcome to BashNota!"}),R.push("/"))}catch(f){z.error("Registration error:",f)}finally{c.value=!1}},I=async()=>{c.value=!0;try{await B.loginWithGoogle()&&(N("You have signed up with Google successfully!",{description:"Welcome to BashNota!"}),R.push("/"))}catch(f){z.error("Google signup error:",f)}finally{c.value=!1}};return(f,e)=>{const j=J("RouterLink");return n(),y("div",Z,[a(s(T),{class:"w-full max-w-md mx-auto"},{default:l(()=>[a(s(W),{class:"space-y-1"},{default:l(()=>[a(s(O),{class:"text-2xl font-bold text-center"},{default:l(()=>e[6]||(e[6]=[o("Create an account")])),_:1}),a(s(Y),{class:"text-center"},{default:l(()=>e[7]||(e[7]=[o(" Enter your details to create a new account ")])),_:1})]),_:1}),a(s(q),{class:"space-y-4"},{default:l(()=>[t("div",ee,[a(s(b),{for:"name"},{default:l(()=>e[8]||(e[8]=[o("Name")])),_:1}),t("div",se,[a(s(K),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(s(h),{id:"name",value:d.value,type:"text","class-name":"pl-10",placeholder:"John Doe",class:g({"border-red-500":d.value&&!V.value}),onInput:e[0]||(e[0]=u=>d.value=u.target.value)},null,8,["value","class"])]),d.value&&!V.value?(n(),y("p",ae," Name must be at least 2 characters long ")):_("",!0)]),t("div",te,[a(s(b),{for:"email"},{default:l(()=>e[9]||(e[9]=[o("Email")])),_:1}),t("div",le,[a(s(X),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(s(h),{id:"email",value:i.value,type:"email","class-name":"pl-10",placeholder:"email@example.com",class:g({"border-red-500":i.value&&!C.value}),onInput:e[1]||(e[1]=u=>i.value=u.target.value)},null,8,["value","class"])]),i.value&&!C.value?(n(),y("p",oe," Please enter a valid email address ")):_("",!0)]),t("div",re,[a(s(b),{for:"password"},{default:l(()=>e[10]||(e[10]=[o("Password")])),_:1}),t("div",ue,[a(s(A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(s(h),{id:"password",value:r.value,type:w.value?"text":"password","class-name":"pl-10",placeholder:"••••••••",class:g({"border-red-500":r.value&&!P.value}),onInput:e[2]||(e[2]=u=>r.value=u.target.value)},null,8,["value","type","class"]),t("button",{type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",onClick:e[3]||(e[3]=u=>w.value=!w.value)},[w.value?(n(),k(s(L),{key:0,class:"h-4 w-4"})):(n(),k(s(M),{key:1,class:"h-4 w-4"}))])]),r.value&&!P.value?(n(),y("p",ne," Password must be at least 6 characters long ")):_("",!0)]),t("div",ie,[a(s(b),{for:"confirmPassword"},{default:l(()=>e[11]||(e[11]=[o("Confirm Password")])),_:1}),t("div",de,[a(s(A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(s(h),{id:"confirmPassword",value:v.value,type:x.value?"text":"password","class-name":"pl-10",placeholder:"••••••••",class:g({"border-red-500":v.value&&!$.value}),onInput:e[4]||(e[4]=u=>v.value=u.target.value)},null,8,["value","type","class"]),t("button",{type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",onClick:e[5]||(e[5]=u=>x.value=!x.value)},[x.value?(n(),k(s(L),{key:0,class:"h-4 w-4"})):(n(),k(s(M),{key:1,class:"h-4 w-4"}))])]),v.value&&!$.value?(n(),y("p",ce," Passwords do not match ")):_("",!0)]),a(s(S),{class:g(["w-full",{"opacity-70 cursor-not-allowed":c.value}]),disabled:!E.value||c.value,onClick:G},{default:l(()=>[o(Q(c.value?"Creating Account...":"Create Account"),1)]),_:1},8,["disabled","class"]),e[13]||(e[13]=t("div",{class:"relative flex items-center justify-center"},[t("div",{class:"absolute border-t border-gray-300 dark:border-gray-700 w-full"}),t("div",{class:"relative px-4 bg-card text-sm"},"or continue with")],-1)),a(s(S),{variant:"outline",class:"w-full",disabled:c.value,onClick:I},{default:l(()=>e[12]||(e[12]=[t("svg",{class:"h-4 w-4 mr-2",viewBox:"0 0 24 24"},[t("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),t("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),t("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),t("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})],-1),o(" Sign up with Google ")])),_:1},8,["disabled"])]),_:1}),a(s(U),{class:"flex justify-center"},{default:l(()=>[t("div",ve,[e[15]||(e[15]=o(" Already have an account? ")),a(j,{to:"/login",class:"text-primary font-medium hover:underline ml-1"},{default:l(()=>e[14]||(e[14]=[o(" Sign in ")])),_:1})])]),_:1})]),_:1})])}}});export{ge as default};
